# Task 2

이것은 산업 문제와 밀접하게 관련된 새로운 DCASE 도전 과제로서, <span style="color:red"><u>공장 자동화를 달성하기 위한 기계적 고장 자동 검출</u></span>이다. 이 과제의 목표는 대상 기계에서 방출되는 소리가 정상인지 이상인지 확인하는 것이다. 훈련 자료로 정상음표본만 제공됐다는 조건에서 <span style="color:red"><u>알려지지 않은 변칙음을 검출하는 것이 주요 과제</u></span>다. 이 과제는 정상/이상 분류 문제가 2종 분류 문제인 것처럼 보이지만 단순한 분류 문제로는 해결할 수 없다. 소리를 관찰하여 기계 이상 징후를 신속하게 감지하는 것은 기계 상태 모니터링에 유용할 것이다.

이상음 검출(ASD)는 대상 기계에서 방출되는 소리가 정상인지 이상인지 확인하는 작업이다. 인공지능(AI) 기반 공장자동화 등 4차 산업혁명에서 기계고장 자동 검출은 필수 기술이다. 소리를 관찰하여 기계 이상 징후를 신속하게 감지하면 기계 상태 모니터링에 유용할 수 있다.

이 <u>과제의 주요 과제는 정상적인 소리 샘플만 교육 자료로 제공되었다는 조건에서 알려지지 않은 비정상적인 소리를 탐지하는 것이다. 실제 공장에서는 실제의 변칙적인 소리는 거의 발생하지 않으며 매우 다양하다</u>. 따라서, 변칙적인 소리의 완전한 패턴은 의도적으로 만들거나 수집할 수 없다. 이것은 우리가 주어진 훈련 데이터에서 관찰되지 않았던 알려지지 않은 비정상적인 소리를 탐지해야 한다는 것을 의미한다. 이 점은 산업 장비에 대한 ASD와 총소리나 아기 울음소리 같은 정의된 비정상적인 소리를 감지하기 위한 과거 감독된 DCASE 작업 사이의 전제에 있어 주요한 차이점 중 하나이다.

이 과업은 그림 1에 나타낸 단순화된 과업기술이 2종 분류문제로 보여도 단순한 분류문제로 해결할 수 없다. 태스크에 대한 자세한 내용은 "작업 설정 및 규칙" 섹션을 참조하십시오.



![image-20200317231804515](C:\Users\chlgy\AppData\Roaming\Typora\typora-user-images\image-20200317231804515.png)



## Schedule

- 작업개시: 2020년 3월 2일

- 추가 교육 데이터 세트 릴리스: 2020년 4월 1일

- 평가 데이터 세트 릴리스: 2020년 6월 1일

- 외부 자원 목록 잠금: 2020년 6월 1일

- 도전 마감: 2020년 6월 15일

- 과제 결과: 2020년 7월 1일

  

  "허용된 외부 데이터셋 및 모델 목록"의 외부 자원을 사용할 수 있다(cf. 외부 데이터 자원 섹션). 허용된 외부 데이터셋 및 모델 목록은 요청에 따라 업데이트된다. 2020년 4월 1일 이전에 자유롭게 액세스하는 모든 외부 자원을 추가할 수 있다. 이메일을 통해 요청을 전송하십시오. "허용된 외부 데이터 리소스 목록"은 요청에 따라 업데이트된다. 작업 주최자에게 요청 메일을 보내십시오. 평가 데이터 세트의 기계 정보를 활용한 새로운 외부 리소스 개발을 피하기 위해 2020년 4월 1일 이후에 추가 교육 데이터 세트를 출시할 예정임(cf. dataset 섹션)

## Audio dataset

<span style="color:red"><u>이 작업에 사용되는 데이터는 ToyADMOS의 일부와 6종류의 장난감/실제 기계의 정상/이상 작동 사운드로 구성된 MIMII 데이터셋으로 구성된다.</u> </span>각 녹음은 대상 기계의 작동 소음과 환경 소음을 모두 포함하는 단일 채널(약 10초) 길이의 오디오다. 이 작업에는 다음과 같은 6가지 유형의 장난감/실제 기계가 사용된다.

- Toy-car (ToyADMOS)
- Toy-conveyor (ToyADMOS)
- Valve (MIMII Dataset)
- Pump (MIMII Dataset)
- Fan (MIMII Dataset)
- Slide rail (MIMII Dataset)

[ToyADMOS 논문](https://ieeexplore.ieee.org/document/8937164.)

**abstract**) 본 논문에서는 기계 작동 소리(ADMOS)에서 이상 징후를 감지하기 위해 설계된 "ToyADMOS"라는 새로운 데이터 세트를 소개하고 있다. 우리가 아는 한, 대규모 데이터 세트가 최근 음향 신호 처리의 진보에 기여했지만, ADMOS에는 대규모 데이터 세트가 제공되지 않는다. 변칙적인 사운드 데이터는 수집하기 어렵기 때문이다. <u>ADMOS용 대규모 데이터셋을 구축하기 위해 일부러 손상시켜 미니어처 머신(토이)의 비정상적인 작동 사운드를 수집했다. 공개된 데이터셋은 기계상태 검사, 기하학적으로 고정된 작업을 하는 기계의 고장 진단, 이동 작업을 하는 기계의 고장 진단 등 3개의 하위 데이터셋으로 구성된다.</u> 각 하위 데이터셋에는 180시간 이상의 정상적인 기계 작동 소리 및 48kHz 샘플링 속도로 4개의 마이크를 사용하여 수집한 4,000개 이상의 비정상적인 소리 샘플이 포함된다. 데이터 세트는 https://github.com/YumaKoizumi/ToyADMOS-dataset에서 무료로 다운로드할 수 있다.

[ToyADMOS 데이터 링크](https://zenodo.org/record/3351307#.XT-JZ-j7QdU)

ToyADMOS 데이터 세트는 약 540시간의 정상적인 기계 작동 소리 데이터 세트와 48kHz 샘플링 속도로 4개의 마이크를 사용하여 수집한 12,000개 이상의 비정상적인 소리 샘플 데이터 세트로서, 고이즈미 유마 및 NTT 미디어 인텔리전스 연구소 회원들이 작성한 것이다. <span style="color:red"><u>ToyADMOS 데이터 세트는 기계 작동 소리(ADMOS) 연구에서 이상 징후를 감지하기 위해 설계되었다. 우리는 소형 기계들의 부품을 고의로 손상시켜 정상적이고 비정상적인 작동 소리를 수집해 왔다. ADMOS의 3가지 과제인 제품 검사(토이 카), 고정 기계 고장 진단(토이 컨베이어), 이동 기계 고장 진단(토이 기차)을 위해 설계</u></span>되었다. 자세한 내용은 종이 [1]을 참조하십시오. 작업 중에 ToyADMOS 데이터 세트를 사용하는 경우, 해당 데이터 모드가 소개된 이 문서를 인용하십시오.

[MIMII](http://dcase.community/documents/workshop2019/proceedings/DCASE2019Workshop_Purohit_21.pdf)

**abstract**) 공장 기계는 고장이 나기 쉬우므로 회사에 상당한 비용이 들게 된다. 따라서 마이크를 비롯한 다른 센서를 이용한 기계 모니터링에 대한 관심이 높아지고 있다. 과학계에서는 공적 데이터셋의 출현으로 장면과 사건의 음향탐지 및 분류의 진전을 도모해 왔지만 실제 공장 환경에서 정상적이고 비정상적인 작동 조건 하에서 산업용 기계의 소음에 초점을 맞춘 공개 데이터셋은 존재하지 않는다. 

본 논문에서는 <span style="color:red"><u>산업 기계 소리의 새로운 데이터 세트를 제시하며, 이를 산업 기계 조사 및 검사 오작동을 위한 사운드 데이터 세트(MIMII 데이터 세트)라고 한다. 밸브, 펌프, 팬 및 슬라이드 레일 등 다양한 유형의 산업 기계에 대해 정상적이고 비정상적인 소리가 녹음되었다. 실생활 시나리오와 유사하기 위해 오염, 누출, 회전 언밸런스, 레일 손상 등 다양한 비정상적인 소리가 기록되어 왔다</u>. </span>MIMII 데이터 세트를 공개하는 목적은 기계 학습 및 신호 처리 커뮤니티가 자동화된 설비 유지관리의 개발을 진전시킬 수 있도록 돕는 것이다.

![image-20200319151139949](C:\Users\chlgy\AppData\Roaming\Typora\typora-user-images\image-20200319151139949.png)

밸브는 반복적으로 개폐되는 솔레노이드 밸브다. 펌프는 물 펌프로, 물웅덩이에서 물을 빼내고 물을 지속적으로 수영장으로 배출한다. 선풍기는 공장에 지속적인 공기 흐름이나 가스를 공급하기 위해 사용되는 산업 팬을 대표한다. 이 종이의 슬라이드 레일은 움직이는 플랫폼과 스테이지 베이스로 구성된 선형 슬라이드 시스템을 나타낸다. 기계에서 발생하는 소리의 종류는 정지해 있고 비정기적이며 특징도 다르고 난이도도 다르다. 그림 3은 4종류의 모든 기계음에 대한 전력 분광기를 나타낸 것으로, 각 기계마다 고유한 음향 특성이 있음을 명확히 보여주고 있다.

<img src="C:\Users\chlgy\AppData\Roaming\Typora\typora-user-images\image-20200319163503722.png" alt="image-20200319163503722" style="zoom:67%;" />

각 기계 유형에 대한 사운드 파일 목록은 표 1에 보고되어 있다. 각각의 종류의 기계는 7개의 개별 기계로 구성되어 있다. 개별 기계는 다른 제품 모델일 수 있다.
<u>우리는 모델을 효과적으로 훈련시키기 위해 실제상황의 복잡성을 통합한 대규모 데이터셋이 필요하다는 것을 알고 있기 때문에, 우리는 모든 개별 기계에 대해 총 26,092개의 정상음 세그먼트를 기록했다. 이 외에도 오염, 누출, 회전 언밸런스, 레일 손상 등과 같은 각 종류의 기계에 대해 다양한 실생활 이상 시나리오가 고려</u>되었다. 다양한 주행 조건이 표 2에 수록되어 있다. 데이터 세트의 주요 대상을 감독되지 않는 학습 시나리오로 간주하고 비정상적인 세그먼트를 테스트 데이터의 일부로 간주하기 때문에 각 다른 유형의 기계에 대한 각 비정상적인 소음에 대한 소리의 수는 작다.

<img src="C:\Users\chlgy\AppData\Roaming\Typora\typora-user-images\image-20200319163712872.png" alt="image-20200319163712872" style="zoom:67%;" />



## Recording Procedure

<span style="color:red"><u>ToyADMOS는 4개의 마이크로폰으로 수집된 미니어처 머신(토이)의 정상/이상 작동 사운드로 구성되며, MIMII 데이터 세트는 8개의 마이크로폰으로 수집된 실제 기계로 구성된다</u>.</span> 이러한 데이터 세트의 이상한 소리는 의도적으로 대상 기계를 손상시켜 수집되었다. 작업을 단순화하기 위해, 우리는 다채널 녹화의 첫 번째 채널만 사용했다. 모든 녹화는 고정된 마이크의 단일 채널 녹화로 간주된다. 모든 신호의 샘플링 속도는 16kHz로 하향 샘플링되었다. 토야드모스에서는, 녹음에서 전체 동작의 작동음(즉, 시작부터 정지까지)을 포함하는 IND형 데이터만 사용했다. 대상 기계음과 환경 잡음을 혼합하여 교육/테스트 데이터로 시끄러운 녹음만 제공된다. 환경 소음 샘플은 실제 공장 환경에서 기록되었다. 기록 절차에 대한 자세한 내용은 ToyADMOS 및 MIMII Dataset 문서를 참조하십시오.

마이크 어레이는 기계로부터 50cm(밸브의 경우 10cm) 떨어진 곳에 보관되었으며, 10초간 소리 세그먼트가 녹음되었다. 데이터 세트에는 각 세그먼트에 대해 8개의 개별 채널이 포함되어 있다. 그림 2는 각 종류의 기계에 대한 방향과 거리에 대한 기록 설정을 나타낸다. 각 기계음이 별도의 세션에서 녹음되었다는 점에 유의해야 한다. 작동 조건에서는 기계음이 16kHz에서 샘플링된 16비트 오디오 신호로 녹음되었다. 대상 기계음과는 별도로 복수의 실제 공장에서 발생하는 배경소음을 지속적으로 녹음하여 실제 환경을 시뮬레이션하기 위해 대상 기계음과 혼합하였다. 배경 노이즈를 녹음하기 위해 대상 기계음과 동일한 마이크 배열을 사용했다

<img src="C:\Users\chlgy\AppData\Roaming\Typora\typora-user-images\image-20200318214316449.png" alt="image-20200318214316449" style="zoom: 80%;" />



## Development and evaluation datasets

우리는 먼저 이 과제에서 두 가지 중요한 용어를 정의한다. 시스템 유형 및 시스템 ID. 기계유형(machine type)은 이 작업에서 장난감 자동차, 장난감 컨베이어, 밸브, 펌프, 팬 및 슬라이드 레일 등 6개 중 하나가 될 수 있는 종류의 기계를 의미한다. 머신 ID는 동일한 유형의 머신의 각 개체의 식별자로, 훈련 데이터 세트에 3 또는 4가 될 수 있다.

그림 2는 개발 데이터 세트, 추가 훈련 데이터 세트 및 평가 데이터 세트로 구성된 데이터 세트의 개요를 보여준다.

**개발 데이터 세트**: 각 시스템 유형에는 3~4개의 시스템 ID가 있다. 각 기계 ID의 데이터 세트는 (i) 훈련을 위한 정상 소리의 약 1,000개 샘플과 (ii) 테스트를 위해 각각 정상 및 비정상적인 소리의 샘플 100-200개
**평가 데이터 집합**: 이 데이터 세트는 개발 데이터 세트와 동일한 머신 유형 테스트 샘플로 구성된다. 각 기계 ID에 대한 테스트 샘플의 수는 약 400개인데, 그 중 조건 라벨(즉, 정상 또는 이상)이 있는 것은 없다. 평가 데이터 세트의 시스템 ID는 개발 데이터 세트의 시스템 ID와 다르다는 점에 유의하십시오.
**추가 훈련 데이터 세트**: 이 데이터 집합에는 평가 데이터 집합에 사용된 각 시스템 유형 및 시스템 ID에 대한 약 1,000개의 정규 샘플이 포함되어 있다. 참가자는 추가 훈련 데이터 세트를 교육에 사용할 수도 있다. 추가 훈련 데이터 세트는 4월 1일에 공개될 것이다.

![image-20200317233248101](C:\Users\chlgy\AppData\Roaming\Typora\typora-user-images\image-20200317233248101.png)



## Refernence lables

각 훈련/시험 샘플에 대해 주어진 라벨은 기계 유형, 기계 ID 및 조건(정상/이상)이다. 시스템 유형 정보는 디렉토리 이름으로 제공되며, 시스템 ID와 상태 정보는 각 파일 이름으로 제공된다. 평가 데이터 세트에 있는 테스트 샘플의 상태 정보는 제공되지 않는다는 점에 유의하십시오. 그들의 조건 라벨은 도전 결과가 열린 후에 공개될 것이다. 자세한 내용은 리포지토리 섹션에 있음



## External data resources

과거의 DCASE의 외부 데이터 자원 정책에 근거하여, 다음과 같은 조건에서 외부 데이터 세트와 훈련된 모델을 사용할 수 있도록 한다.

1. 이 과제의 시험 데이터는 훈련에 사용할 수 없다.
2. 이 과제에 대해 제공된 개발/추가 교육/평가 데이터 세트를 제외한 ToyADMOS 및 MIMII 데이터셋은 사용할 수 없다. 이 작업의 데이터 세트는 이러한 데이터 세트의 일부분이므로 테스트 데이터 세트의 비정상적인 소음에 대한 정보가 모델에 누출될 수 있다.
3. 2020년 4월 1일 이전에 다른 연구 그룹이 자유롭게 접속하는 데이터셋/모델을 이용할 수 있다.
4. 참가자는 평가 세트 발행일까지 주최자에게 그러한 출처를 알릴 필요가 있다. 모든 경쟁업체에 대해 동일한 기회를 제공하기 위해 우리는 이에 따라 웹 페이지의 외부 데이터 세트/모델 목록을 업데이트할 것이다.
5. 평가 세트가 발행되면 외부 소스를 더 이상 추가할 수 없다. 이 목록은 과제 1의 동일한 날짜인 2020년 6월 1일에 잠길 것이다.



# Task setup and rules

이상 징후 검출 연구 영역에서 사용되는 몇 가지 지표를 계산하기 위해 참가자들은 결정 결과 대신 각 시험 샘플에 대한 이상 점수를 계산하여 제출한다. 여기서 이상 점수는 입력 신호가 변칙적인 것처럼 보일 때 큰 값을 취하며, 그 반대도 큰 값을 취한다. 이상 점수를 계산하려면 참가자는 변수 θ를 사용하여 이상 점수 계산기 A를 교육해야 한다. A의 입력은 대상 기계의 작동 소리 x∈RL과 기계 유형 및 기계 ID를 포함한 기계 정보로, A는 전체 오디오 클립 x에 대해 하나의 이상 점수를 Aθ(x)∈R로 출력한다. 그런 다음 이상 징후 점수가 사전 정의된 임계값을 초과할 경우 x는 변칙적인 것으로 판단된다. 따라서 A는 전체 오디오 클립 x가 변칙적일 때뿐만 아니라 충돌 변칙적인 소리처럼 x의 일부가 변칙적일 때도 큰 값을 취하도록 훈련할 필요가 있다. 임계값의 결정 절차는 평가 섹션에 설명되어 있다.

그림 3은 이 과제의 개요를 보여준다. 여기서 예제는 팬 ID01의 테스트 샘플의 이상 점수 계산 절차다. 첫째, 참가자는 교육 데이터와 선택적 외부 데이터 자원을 사용하여 이상 점수 계산기 A를 훈련시킨다. 그런 다음 참가자는 A를 사용하여 팬 ID01의 모든 테스트 샘플의 이상 점수를 계산한다. 참가자는 이 절차를 반복함으로써 모든 기계 종류와 기계 ID의 모든 시험 샘플의 이상 점수를 계산한다.

이상 점수 계산기 A의 Arbitral 번호는 시험 표본의 이상 점수 계산에 사용될 수 있다. 가장 간단한 전략은 단일 대상 시스템 ID의 모든 테스트 샘플의 이상 점수를 계산하는 데 단일 A를 사용하는 것이다. 이 경우 A는 단일 표적 기계에 특화된다. 따라서 참가자는 각 기기 유형과 각 기계 ID에 대해 A를 교육해야 한다. 보다 도전적인 전략은 모든 기계 유형과 모든 기계 ID의 모든 시험 샘플의 이상 점수를 계산하기 위해 단일 A를 사용하는 것이다. 이 전략의 장점은 참가자들이 제공된 모든 훈련 샘플을 훈련에 사용할 수 있다는 것이다. 그러나 그들은 모델의 일반화를 고려할 필요가 있다.

![image-20200317234237242](C:\Users\chlgy\AppData\Roaming\Typora\typora-user-images\image-20200317234237242.png)